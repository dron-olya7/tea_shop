"use strict";(self.webpackChunktea_shop=self.webpackChunktea_shop||[]).push([[550],{550:(Q,l,o)=>{o.r(l),o.d(l,{ProductsModule:()=>w});var c=o(6895),r=o(646),t=o(8256),d=o(2845);function p(e,i){1&e&&(t.TgZ(0,"div",1),t._UZ(1,"div",2),t.qZA())}let g=(()=>{class e{constructor(){this.isLoading=!1}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loader-bg",4,"ngIf"],[1,"loader-bg"],[1,"loader"]],template:function(a,n){1&a&&t.YNc(0,p,2,0,"div",0),2&a&&t.Q6J("ngIf",n.isLoading)},dependencies:[c.O5],styles:[".loader-bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #076bff;border-right:16px solid #007bff;border-radius:50%;width:100px;height:100px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();const m=function(e){return["/catalog/tea-details",e]};let f=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["tea-card"]],inputs:{teaCard:"teaCard"},decls:10,vars:6,consts:[[1,"card-container"],[1,"card"],["alt","tea",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","my-style__btn-card",3,"routerLink"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA(),t.TgZ(8,"a",6),t._uU(9,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&a&&(t.xp6(2),t.s9C("src",n.teaCard.image,t.LSH),t.xp6(3),t.Oqu(n.teaCard.title),t.xp6(2),t.hij("",n.teaCard.price," \u0440\u0443\u0431."),t.xp6(1),t.Q6J("routerLink",t.VKq(4,m,n.teaCard.id)))},dependencies:[r.yS],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-self:center;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;font-weight:700}.card-img-top[_ngcontent-%COMP%]{width:70%}.card-text[_ngcontent-%COMP%]{font-size:18px;font-weight:400;line-height:24px;margin-top:12px;margin-bottom:25px}"]}),e})();function h(e,i){1&e&&(t.TgZ(0,"h1",5),t._uU(1,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"h1",5),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.hij(' \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',a.searchQuery,'" ')}}function T(e,i){if(1&e&&(t.TgZ(0,"h1",5),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.hij(' \u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',a.searchQuery,'" ')}}function _(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){const u=t.CHM(a).$implicit,A=t.oxw();return t.KtG(A.goToOrder(u.title))}),t._UZ(1,"tea-card",7),t.qZA()}if(2&e){const a=i.$implicit;t.xp6(1),t.Q6J("teaCard",a)}}let x=(()=>{class e{constructor(a,n,s){this.TeaCatalogService=a,this.router=n,this.route=s,this.teaCatalog=[],this.isLoading=!1,this.subscriptionTeaCtalogService=null,this.subscriptionQuertParams=null,this.filteredTeas=[],this.searchQuery=""}ngOnInit(){this.isLoading=!0,this.loadTeaCatalog(),this.subscriptionQuertParams=this.route.queryParams.subscribe(a=>{this.searchQuery=a.search||"",this.filterTeas()})}loadTeaCatalog(){this.subscriptionTeaCtalogService=this.TeaCatalogService.getTeaCatalog().subscribe({next:a=>{this.teaCatalog=a,this.filterTeas(),this.isLoading=!1},error:a=>{this.router.navigate(["/"]),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430",a),this.isLoading=!1}})}filterTeas(){this.filteredTeas=this.searchQuery?this.teaCatalog.filter(a=>a.title.toLowerCase().includes(this.searchQuery.toLowerCase())):this.teaCatalog}goToOrder(a){this.router.navigate(["/order"],{queryParams:{tea:a}})}ngOnDestroy(){this.subscriptionTeaCtalogService?.unsubscribe(),this.subscriptionQuertParams?.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(d.d),t.Y36(r.F0),t.Y36(r.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["catalog-component"]],decls:7,vars:5,consts:[[1,"tea-collection","d-flex","flex-column","min-vh-100"],["class","h1",4,"ngIf"],[1,"tea-collection-items"],["class","tea-card-wrapper",3,"click",4,"ngFor","ngForOf"],[3,"isLoading"],[1,"h1"],[1,"tea-card-wrapper",3,"click"],[1,"tea-card",3,"teaCard"]],template:function(a,n){1&a&&(t.TgZ(0,"section",0),t.YNc(1,h,2,0,"h1",1),t.YNc(2,C,2,1,"h1",1),t.YNc(3,T,2,1,"h1",1),t.TgZ(4,"div",2),t.YNc(5,_,2,1,"div",3),t.qZA(),t._UZ(6,"app-loader",4),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",!n.searchQuery),t.xp6(1),t.Q6J("ngIf",n.searchQuery&&n.filteredTeas.length>0),t.xp6(1),t.Q6J("ngIf",0===n.filteredTeas.length&&n.searchQuery),t.xp6(2),t.Q6J("ngForOf",n.filteredTeas.length>0?n.filteredTeas:n.teaCatalog),t.xp6(1),t.Q6J("isLoading",n.isLoading))},dependencies:[c.sg,c.O5,g,f],styles:[".tea-collection[_ngcontent-%COMP%]{padding:2rem}.tea-collection-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem;margin-top:2rem}.tea-card-wrapper[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.tea-card-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.02)}"]}),e})();var v=o(6275);function y(e,i){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.s9C("src",a.teaCard.image,t.LSH)}}function Z(e,i){1&e&&t._UZ(0,"img",11)}const b=function(){return["/order"]},O=function(e){return{tea:e}},P=[{path:"",component:x},{path:"tea-details/:id",component:(()=>{class e{constructor(a,n,s,u){this.teaCatalogService=a,this.route=n,this.activateRoute=s,this.teaDataService=u,this.isLoading=!1,this.teaCard={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.isLoading=!0,this.activateRoute.params.subscribe(a=>{a.id&&this.teaCatalogService.getTeaDetails(+a.id).subscribe({next:n=>{this.teaCard=n,this.teaDataService.setTeaCard(this.teaCard),this.isLoading=!1},error:n=>{this.route.navigate(["/"])}})})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(d.d),t.Y36(r.F0),t.Y36(r.gz),t.Y36(v.d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["tea-details"]],decls:14,vars:11,consts:[[1,"container","d-flex","flex-column","min-vh-100"],[1,"tea"],["class","tea-image",4,"ngIf","ngIfElse"],["defaultImageBlock",""],[1,"tea-title","mb-2"],[1,"mb-2","tea-price"],[1,"tea-description","mb-4","text-center"],[1,"btn","my-style__btn-card",3,"routerLink","queryParams"],[3,"isLoading"],[1,"tea-image"],["alt","Tea",1,"img-fluid",3,"src"],["src","/assets/images/image 1.png","alt","Tea",1,"img-fluid"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,y,2,1,"div",2),t.YNc(3,Z,1,0,"ng-template",null,3,t.W1O),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA(),t.TgZ(11,"a",7),t._uU(12," \u041a\u0443\u043f\u0438\u0442\u044c "),t.qZA()()(),t._UZ(13,"app-loader",8)),2&a){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",n.teaCard.image)("ngIfElse",s),t.xp6(4),t.Oqu(n.teaCard.title),t.xp6(2),t.hij("",n.teaCard.price," \u0440."),t.xp6(2),t.hij(" ",n.teaCard.description," "),t.xp6(1),t.Q6J("routerLink",t.DdM(8,b))("queryParams",t.VKq(9,O,n.teaCard.title)),t.xp6(2),t.Q6J("isLoading",n.isLoading)}},dependencies:[c.O5,r.yS,g],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}.tea[_ngcontent-%COMP%]{max-width:100%;box-sizing:border-box;margin:auto;display:flex;justify-content:center;align-items:center;flex-direction:column;height:100vh;text-align:center;padding:20px;gap:5px}.tea-image[_ngcontent-%COMP%]{border-radius:50%;max-width:500px;max-height:500px;display:flex;justify-content:center;align-items:center;animation:spin 70s linear infinite}.tea-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100%;height:auto}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tea[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px}.tea-title[_ngcontent-%COMP%]{font-family:Arial Narrow,sans-serif;font-size:20px;font-weight:700}.tea-description[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(P),r.Bz]}),e})();var M=o(4466);let w=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,L,M.m]}),e})()}}]);